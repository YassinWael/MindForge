<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindForge</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="shortcut icon" href="/static/anvil.ico" type="image/x-icon">
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-brands/css/uicons-brands.css'>
    <style>*,::after,::before{box-sizing:border-box}ol[class],ul[class]{padding:0;list-style:none}blockquote,body,dd,dl,figcaption,figure,h1,h2,h3,h4,li,ol[class],p,ul[class]{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed;line-height:1.5;}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}article>*+*{margin-top:1em}button,input,select,textarea{font:inherit}@media (prefers-reduced-motion:reduce){*{animation-duration:0s!important;animation-iteration-count:1!important;transition-duration:0s!important;scroll-behavior:auto!important}}</style> 
    
</head>
<body>
    <div class="brand">
        <div class="socials" style="display: flex; justify-content:center; align-items:center">
            <img src="/static/youtube.svg" onclick="location.href='{{ link }}'" width="50px" height="50px"  alt="">
        </div>
        <img src="/static/logo-nobg.png" width="250px" height="250px" alt="logo" id="logo">
    </div>
    <p id="message"></p>
    <img id="replay" onclick="history.go(0)" src="/static/replay.svg" width="60px" height="60px" alt="">
    


    <div class="progress-bar-container">
        <div id="progress-bar"></div>
    </div>
</body>


<script>
    
    var message_text = `{{ message | strongify | safe }}`
    console.log(message_text)
    console.log(message_text.length)
    
    
    var message = document.getElementById("message")
    
    var index = 0
    
    var progressBar = document.getElementById("progress-bar")

    var replayButton = document.getElementById("replay")

    function typeWriter() {
        if (index < message_text.length) {
            
            message.innerHTML += message_text[index]
            
            index++

            message_percentage = (index / message_text.length) * 100

            console.log(`${message_percentage}%`)

            progressBar.style.width = `${message_percentage}%`
            




            setTimeout(typeWriter,70)
        }
        // The message has ended, show the replay button. 
        else {
            replayButton.style.display = "block"
            replayButton.style.animationName = "comeAlive"

            // apply the storng effects and other html tags
            message.innerHTML = message_text

        }
        
        
    }
    
    window.onload = typeWriter
    


</script>
</html>